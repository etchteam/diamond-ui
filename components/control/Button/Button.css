@import '../../../styles/mixins/button.css';

diamond-button {
  button,
  a,
  input:not([type='file']),
  input[type='file']::file-selector-button {
    background: var(--_background);
    border: var(--diamond-border);
    border-color: var(--_border-color);
    border-radius: var(--diamond-button-border-radius);
    color: var(--_color);
    cursor: pointer;
    display: inline-flex;
  }

  svg {
    block-size: var(--diamond-icon-size);
    flex-shrink: 0;
    inline-size: var(--diamond-icon-size);
  }

  [disabled],
  [type='file'][disabled]::file-selector-button {
    --_background: var(--_background-disabled);
    --_color: var(--_color-disabled);
    --_border-color: var(--_border-color-disabled);
    cursor: not-allowed;

    &:hover {
      --_background: var(--_background-disabled);
      --_color: var(--_color-disabled);
      --_border-color: var(--_border-color-disabled);
    }
  }

  &[variant='primary'] > button {
    --_background: var(--diamond-button-primary-background);
    --_background-hover: var(--diamond-button-primary-background-hover);
    --_background-disabled: var(--diamond-button-primary-background-disabled);
    --_border-color: var(--diamond-button-primary-border-color);
    --_border-color-hover: var(--diamond-button-primary-border-color-hover);
    --_border-color-disabled: var(
      --diamond-button-primary-border-color-disabled
    );
    --_color: var(--diamond-button-primary-color);
    --_color-hover: var(--diamond-button-primary-color-hover);
    --_color-disabled: var(--diamond-button-primary-color-disabled);
  }

  &[variant='secondary'] > button {
    --_background: var(--diamond-button-secondary-background);
    --_background-hover: var(--diamond-button-secondary-background-hover);
    --_background-disabled: var(--diamond-button-secondary-background-disabled);
    --_border-color: var(--diamond-button-secondary-border-color);
    --_border-color-hover: var(--diamond-button-secondary-border-color-hover);
    --_border-color-disabled: var(
      --diamond-button-secondary-border-color-disabled
    );
    --_color: var(--diamond-button-secondary-color);
    --_color-hover: var(--diamond-button-secondary-color-hover);
    --_color-disabled: var(--diamond-button-secondary-color-disabled);
  }

  &[variant='text'] {
    --_background: var(--diamond-button-text-background);
    --_background-hover: var(--diamond-button-text-background-hover);
    --_background-disabled: var(--diamond-button-text-background-disabled);
    --_border-color: var(--diamond-button-text-border-color);
    --_border-color-hover: var(--diamond-button-text-border-color-hover);
    --_border-color-disabled: var(--diamond-button-text-border-color-disabled);
    --_color: var(--diamond-button-text-color);
    --_color-hover: var(--diamond-button-text-color-hover);
    --_color-disabled: var(--diamond-button-text-color-disabled);
    /* Text button is square */
    --_padding-inline: var(--diamond-button-padding-block);

    button,
    a,
    input {
      /* Remove padding whilst retaining a clickable area large enough for thumbs  */
      margin: calc(var(--_padding-block) * -1);
    }
  }

  input[type='file'] {
    background-color: var(--diamond-button-file-background);
    border-radius: var(--diamond-button-border-radius);
    inline-size: 100%;
    max-inline-size: max-content;

    &::file-selector-button {
      margin-inline-end: var(--diamond-spacing);
    }
  }
}
